# 餐廳外場模擬器

一個類似 Overcooked 的餐廳外場模擬器，重點在於除了滿足客人的食物需求，還要在情緒上讓每個人滿意。

## 操作方式

### 移動
- **W/↑**: 向上移動
- **S/↓**: 向下移動
- **A/←**: 向左移動
- **D/→**: 向右移動

### 表情控制
- **J**: 開心表情 😊
- **K**: 中性表情 😐
- **L**: 難過表情 😢

**注意**: 使用表情時會持續消耗 SAN 值（每秒消耗 5 點）！

## 遊戲機制

### 客人系統
- **3 種個性**:
  - 友善 (Friendly): 喜歡開心表情
  - 中性 (Neutral): 喜歡中性表情
  - 暴躁 (Grumpy): 喜歡難過表情（需要同情）
- 每位客人有初始滿意度 50 點（最高 100 點）
- **每個客人只會想要一種食物**，在生成時隨機決定，之後不會改變
- 使用正確表情接單：滿意度 +20
- 使用錯誤表情接單：滿意度 -15
- QTE 失敗：滿意度 -10

### 食物系統（台灣在地風格）
1. 牛肉麵 (BEEF_NOODLE)
2. 臭豆腐 (STINKY_TOFU)
3. 珍珠奶茶 (PEARL_MILK_TEA)
4. 蚵仔煎 (OYSTER_OMELETTE)
5. 滷肉飯 (BRAISED_PORK)

### 內場人員
- **內場人員 1**: 供應牛肉麵、臭豆腐、珍珠奶茶（喜歡開心表情）
- **內場人員 2**: 供應蚵仔煎、滷肉飯（喜歡中性表情）
- 內場人員有心情系統（mood），使用正確表情可提升心情

### QTE 點單系統
1. 靠近客人（距離 < 100 像素）並按下任意表情鍵（J/K/L）開始點單
2. **QTE UI 會顯示在互動中的客人上方 10px 處**，以 1.5 倍大小顯示
3. 對話泡泡會輪播**該客人想要的食物 + 隨機 emoji**，每 0.5 秒切換一次
   - 只會顯示該客人想要的特定食物，而非所有食物品項
   - 混合隨機 emoji 增加 QTE 難度
4. 當顯示到客人想要的**食物名稱**時，鬆開表情鍵即可接單成功
5. 如果做錯表情，客人滿意度會下降
6. 如果 QTE 失敗（在錯誤的食物或 emoji 上鬆開），需要重新開始

### SAN 值系統
- 初始 SAN 值：100 點（最高 100 點）
- 使用表情時每秒消耗 5 點 SAN 值
- SAN 值歸零時遊戲結束
- 可在遊戲結束後按 **R** 鍵重新開始

### 排隊系統
- 客人會陸續加入排隊（右側 1/4 區域）
- 最多同時 5 位客人
- 每 5 秒生成一位新客人
- 客人完成訂單後會自動離開，其他客人會重新排列

### 全局滿意度系統
- 計算所有客人的平均滿意度
- 每 0.5 秒更新一次
- 如果沒有客人，滿意度會緩慢下降

### UI 系統
- **SAN 值條**：顯示當前 SAN 值（綠色）
- **滿意度條**：顯示全局滿意度（紅色）
- **表情顯示**：左下角顯示玩家當前表情
- **目標表情**：右下角顯示附近客人或內場人員期望的表情
- **時間顯示**：顯示遊戲運行時間
- **遊戲結束面板**：SAN 值歸零時顯示

## 技術細節

### 遊戲引擎
- **Godot 4.5** (Mobile renderer)
- 視窗大小：1280x720

### 核心系統
- **GameManager**: 管理遊戲狀態、SAN 值、滿意度、食物和表情類型
- **Player**: 處理玩家移動和表情控制
- **Customer**: 管理客人個性、滿意度、QTE 系統
- **KitchenStaff**: 處理內場人員的食物準備和心情系統
- **QueueManager**: 管理客人排隊和生成
- **InteractionManager**: 處理玩家與客人的交互邏輯
- **QTEUI**: 顯示 QTE 對話泡泡
- **UIManager**: 管理所有 UI 顯示和更新

## 專案結構
```
game-jam-2026/
├── Objects/              # 遊戲物件場景
│   ├── player.tscn       # 玩家場景
│   ├── customer.tscn     # 客人場景
│   └── kitchen_staff.tscn # 內場人員場景
├── Scenes/               # 遊戲場景
│   ├── main.tscn         # 主場景（包含所有遊戲物件）
│   ├── ui.tscn           # UI 場景
│   └── qte_ui.tscn       # QTE UI 場景
├── Scripts/              # 遊戲腳本
│   ├── game_manager.gd   # 遊戲管理器（核心邏輯）
│   ├── player.gd         # 玩家腳本
│   ├── customer.gd       # 客人腳本
│   ├── kitchen_staff.gd  # 內場人員腳本
│   ├── queue_manager.gd  # 排隊管理器
│   ├── interaction_manager.gd  # 交互管理器
│   ├── qte_ui.gd         # QTE UI 腳本
│   ├── ui_manager.gd     # UI 管理器
│   └── face_panel.gd    # 表情面板腳本
├── project.godot         # Godot 專案設定
└── README.md            # 本文件
```

## 未來改進方向
- 添加視覺美術資源（45度視角或垂直視角）
- 完善內場人員的互動系統（實際取餐流程）
- 添加更多遊戲機制（時間限制、難度遞增、關卡系統等）
- 優化 UI 顯示和動畫效果
- 添加音效和背景音樂
- 實現食物準備和配送系統
- 添加成就系統和統計數據
